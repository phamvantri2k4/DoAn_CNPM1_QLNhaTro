<div class="page-shell">
    <div class="toolbar">
        <div class="toolbar-left">
            <h2 class="page-title">ğŸ“¢ Quáº£n lÃ½ bÃ i Ä‘Äƒng</h2>
            <div class="stats">
                <span>CÃ³ {{ listings.length }} bÃ i Ä‘Äƒng</span>
            </div>
        </div>

        <div class="toolbar-right">
            <a routerLink="/host/listings/create" class="btn success">âœ¨ ÄÄƒng bÃ i má»›i</a>
        </div>
    </div>

    <div *ngIf="message" class="message">{{ message }}</div>

    <div class="card-grid" *ngIf="listings.length; else emptyState">
        <div class="listing-card" *ngFor="let listing of listings">
            <div class="listing-header">
                <div class="listing-title">
                    <div class="listing-name">{{ listing.title }}</div>
                    <div class="listing-sub">PhÃ²ng ID: {{ listing.roomId }}</div>
                </div>
                <span class="status-pill" [class.hidden]="listing.status === 'HIDDEN'">
                    {{ listing.status === 'VISIBLE' ? 'ğŸ‘ï¸ Hiá»ƒn thá»‹' : 'ğŸ”’ áº¨n' }}
                </span>
            </div>

            <div class="listing-description" *ngIf="listing.description">
                {{ listing.description }}
            </div>

            <div class="listing-meta-row">
                <span class="meta-item">ğŸ“… ÄÄƒng: {{ listing.createdAt | date:'dd/MM/yyyy' }}</span>
            </div>

            <div class="listing-actions">
                <button class="action-btn primary" (click)="toggleStatus(listing.id, listing.status || 'VISIBLE')"
                    title="{{ listing.status === 'VISIBLE' ? 'áº¨n bÃ i Ä‘Äƒng' : 'Hiá»ƒn thá»‹ bÃ i Ä‘Äƒng' }}">
                    {{ listing.status === 'VISIBLE' ? 'ğŸ”’ áº¨n' : 'ğŸ‘ï¸ Hiá»‡n' }}
                </button>
                <a class="action-btn secondary" [routerLink]="['/host/listings', listing.id, 'edit']">
                    âœï¸ Sá»­a
                </a>
                <button class="action-btn danger" (click)="deletePost(listing.id)">
                    ğŸ—‘ï¸ XÃ³a
                </button>
            </div>
        </div>
    </div>

    <ng-template #emptyState>
        <div class="empty">
            <div class="empty-icon">ğŸ“¢</div>
            <div class="empty-title">ChÆ°a cÃ³ bÃ i Ä‘Äƒng nÃ o</div>
            <div class="empty-sub">HÃ£y táº¡o bÃ i Ä‘Äƒng Ä‘á»ƒ quáº£ng cÃ¡o phÃ²ng trá» cá»§a báº¡n</div>
            <a routerLink="/host/listings/create" class="btn success" style="margin-top: 20px;">
                âœ¨ ÄÄƒng bÃ i ngay
            </a>
        </div>
    </ng-template>
</div>